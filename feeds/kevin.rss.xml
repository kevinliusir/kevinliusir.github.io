<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Feis Blog</title><link>http://localhost:8000/</link><description></description><atom:link href="http://localhost:8000/feeds%5Ckevin.rss.xml" rel="self"></atom:link><lastBuildDate>Wed, 07 Jan 2015 10:30:00 +0800</lastBuildDate><item><title>Puppet(一) 安装</title><link>http://localhost:8000/pages/2015/01/07/puppet_install/</link><description>&lt;h3&gt;环境介绍：&lt;/h3&gt;
&lt;p&gt;操作系统：Centos6.6&lt;br /&gt;
master.
feisblog.com    192.168.212.100 &lt;br /&gt;
agent.feisblog.com  192.168.212.110&lt;/p&gt;
&lt;p&gt;1安装Centos EPEL 源
&lt;code&gt;#rpm -ivh  http://mirrors.yun-idc.com/epel/6/x86_64/epel-release-6-8.noarch.rpm&lt;/code&gt; &lt;br /&gt;
2.安装puppetLabs 源
&lt;code&gt;#rpm -ivh http://yum.puppetlabs.com/el/6Server/products/x86_64/puppetlabs-release-6-11.noarch.rpm&lt;/code&gt; &lt;br /&gt;
3.安装服务器端&lt;br /&gt;
&lt;code&gt;#yum install puppet-server&lt;/code&gt; &lt;br /&gt;
检查安装： &lt;br /&gt;
&lt;code&gt;#puppet -V&lt;/code&gt;
&lt;code&gt;#facter -v&lt;/code&gt; &lt;br /&gt;
4.在客户端 &lt;br /&gt;
&lt;code&gt;#yum install puppet&lt;/code&gt;   &lt;/p&gt;
&lt;p&gt;5.配置 &lt;br /&gt;
- 5.1 主机名和host 文件的修改 &lt;br /&gt;
- 5.2 设置NTP时间同步 &lt;br /&gt;
    在crontab中加入：
&lt;code&gt;*/10 * * * *  ntpdate -s time.nist.gov&lt;/code&gt;&lt;br /&gt;
- 5.3 配置site.pp &lt;br /&gt;
&lt;code&gt;#vim /etc/puppet/manifests/site.pp&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;node default { file {“/tmp/puppettest1.txt”: content =&amp;gt; “Hello World”;}}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6.启动服务 &lt;br /&gt;
&lt;code&gt;#/etc/init.d/puppetmaster start&lt;/code&gt;  &lt;br /&gt;
&lt;code&gt;#chkconfig puppetmaster on&lt;/code&gt; &lt;br /&gt;
&lt;code&gt;#/etc/init.d/puppet start&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;#chkconfig puppet on&lt;/code&gt;   &lt;/p&gt;
&lt;p&gt;7.客户端测试  &lt;br /&gt;
首先是发起验证&lt;br /&gt;
&lt;code&gt;# puppet agent --test --server server&lt;/code&gt;  &lt;br /&gt;
服务器端完成验证    &lt;br /&gt;
&lt;code&gt;#puppet cert --list&lt;/code&gt;
&lt;code&gt;#puppet cert sign agent.feisblog.com&lt;/code&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Kevin</dc:creator><pubDate>Wed, 07 Jan 2015 10:30:00 +0800</pubDate><guid>tag:localhost:8000,2015-01-07:pages/2015/01/07/puppet_install/</guid><category>puppet</category></item></channel></rss>